<script type="text/javascript">
  document.onreadystatechange = function () {
    if (document.readyState == "complete") {
      let queryParams = new URLSearchParams(window.location.search);
      if (queryParams.has("search")) {
        let input = document.getElementById('searchInput');
        input.value = queryParams.get("search");
      }
      search();
    }
  };

  function searchInput() {
    let input = document.getElementById('searchInput');
    let text = input.value;
    let action = 'Tablets'
    if (text.length > 0) {
        action += '?search=' + encodeURIComponent(text);
    }
    window.history.replaceState('', '', action);

    search();
  }

  function search() {
    let input = document.getElementById('searchInput');
    let filter = input.value.toUpperCase();
    let table = document.getElementById('tablets');
    let rows = table.getElementsByTagName('tr');

    for (i = 0; i < rows.length; i++) {
      let row = rows[i];
      let td = row.getElementsByTagName('td')[0];
      if (td) {
        let content = td.textContent || td.innerText;
        row.style.display = content.toUpperCase().indexOf(filter) >= 0 ? '' : 'none';
      }
    }
  }
</script>
